# --- LEDs on HE0 (Manta M8P v0) ---
[output_pin daylight]
pin: pa3                  # if alias not found, replace with the MCU pin for HE0 (e.g. PA8/PBx per M8P sample cfg)
pwm: True
value: 0.0                # off at boot
shutdown_value: 0.0
cycle_time: 0.01          # 100 Hz; raise to 0.004 (250 Hz) if you see flicker
hardware_pwm: True        # set False if your MCU doesn’t support it

# Convenience macros
[gcode_macro DAYLIGHT_ON]
gcode:
  SET_PIN PIN=daylight VALUE=1.0

[gcode_macro DAYLIGHT_OFF]
gcode:
  SET_PIN PIN=daylight VALUE=0.0

[gcode_macro DAYLIGHT_S]
description: Set Daylight brightness 0–255
gcode:
  {% set s = params.S|default(255)|int %}
  {% if s < 0 %}
    {% set s = 0 %}
  {% elif s > 255 %}
    {% set s = 255 %}
  {% endif %}
  {% set val = s / 255.0 %}
  SET_PIN PIN=daylight VALUE={val}